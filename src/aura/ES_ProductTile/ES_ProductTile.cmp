<aura:component description="c:ES_ProductTile component"
                implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId"
                controller="ES_ProductSearchController">

    <aura:attribute name="product" type="Object" access="public"/>
    <aura:attribute name="checked" type="Boolean" default="false"/>
    <aura:attribute name="searchParams" type="Object" access="public"/>

    <aura:registerEvent name="objectTransfer" type="c:objectTransfer"/>
    <lightning:navigation aura:id="navService"/>

    <div class="slds-box slds-theme_default slds-m-around_small slds-align_absolute-center article-tile"
         product="{!v.product}" onclick="{!c.selectedProduct}">
        <article class="slds-post">
            <lightning:layout>
                <lightning:layoutItem size="12">
                    <aura:if isTrue="{!not(empty(v.product.mainPicture))}">
                        <img src="{!'/sfc/servlet.shepherd/version/download/' + v.product.mainPicture}"
                             class="photo-image"/>
                    </aura:if>
                    <aura:if isTrue="{!empty(v.product.mainPicture)}">
                        <img onerror="{!c.imageError}" class="slds-align_absolute-center empty-photo-image"
                             src="{!$Resource.emptyImage}"/>
                    </aura:if>
                    <header class="slds-post__header slds-media">
                        <div class="slds-media__body">
                            <div class="slds-align_absolute-center">
                                    {!v.product.name}
                            </div>
                        </div>
                    </header>
                    <div class="slds-media__body">
                        <div class="slds-float_right" style="font-size:20px;">
                            <p>
                                <lightning:formattedNumber value="{!v.product.price}" style="currency"/>
                            </p>
                        </div>
                    </div>
                </lightning:layoutItem>
            </lightning:layout>
        </article>
    </div>
</aura:component>
